<html>
    <head>
        <title>Easy Maker</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
        <script src='https://cdn.plot.ly/plotly-2.14.0.min.js'></script>
        <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <style>
            body{
                background-color: #36aefe;
                padding-bottom: 20px;
            }
            /* textarea{
                width:80%;
                height:100px;
            } */
            div{
                width:60%;
            }
            button{
                margin:auto;
                width:150px;
            }
            a{
                color:black;
                font-size: 16px;
                margin:15px;
            }
            div{
                margin:auto;
            }
            .line{
                width:70%;
                height:2px;
                background-color: #06283D;
                margin-top: 20px;
            }
            p{
                margin-top: 20px;
                color:#DFF6FF;
            }
            button{
                margin:5px;
            }
            h2{
                color:#DFF6FF;
                font-family: 'Comfortaa', cursive;
                font-size: 25px;
            }
            .form-control{
                width:80% !important;
                height:100px !important;
                margin:auto !important;
            }
            table{
                border:#DFF6FF;
            }
            td{
                padding:10px;
                color:aliceblue;
            }
            .copyright a{
    text-decoration: none;
    color: aliceblue;
}

/* .copyright a:hover{
    text-decoration: underline;
    transition: text-decoration 2s;
} */
.copyright{
    padding-left: 10px;
    position:fixed;
    bottom:-10px;
    background-color: #06283D;
    width:100%;
}
        </style>
    </head>
    <body>
        <a href="Med_Box.html">Click here</a><br>
        <center>
        <h2>Mean, Median, Mode</h2>
        <textarea id="cl" placeholder="Write all the classes over here" class="form-control"></textarea><Br><br>
        <textarea id="fre" placeholder="Write all the frequencies over here." class="form-control"></textarea><Br><Br>
        <button onclick="get()" class="btn btn-success">FIND</button>
        <br>
        <p id="hmm"></p>
        <br><hr><br>
        <h2>Frequency Table Maker</h2>
        <textarea id="we" placeholder="Write all the classes over here" class="form-control"></textarea><Br><Br>
        <textarea id="jl" placeholder="Write all the Numbers over here." class="form-control"></textarea><Br><br>

            <button onclick="sort()" class="btn btn-warning">SORT Exclusive</button><button onclick="sorts()" class="btn btn-danger">SORT Inclusive</button>
            <hr>
            <table id="hmms" border="1"></table>
        </center>
        <p class="copyright">All Copyrights &#169; Reserved 2022,<a href="mailto:noobe.bot2@gmail.com?subject = Feedback&body = Message">Pushkar Gupta</a></p>
        <script>
            function sort(){
                hms = document.getElementById("hmms");
                hms.innerHTML = "";
                getcount = [];
                fs = document.getElementById("jl").value;
                fs = fs.toString().replace(" ","").split(",");
                for(i=0;i<fs.length;i++){
                    fs[i]=Number(fs[i]);
                }
                vs = document.getElementById("we").value;
                vs = vs.toString().replace(" ","").split(",");
                for(i=0;i<vs.length;i++){
                    vs[i] = vs[i].toString().split("-");
                    //console.log(vs[i])
                    for (j=0; j < vs[i].length;j++){ // Checkinf for negative int
                        if (vs[i][j] == "" || vs[i][j] == " "){
                            vs[i][j+1] = "-"+vs[i][j+1]
                        }
                    }
                    vs[i] = vs[i].filter(e => e)
                    vs[i] = vs[i].filter(function(str) {
                        return /\S/.test(str);
                    });          
                    //console.log(vs[i])
                    vs[i][0] = Number(vs[i][0]);
                    vs[i][1] = Number(vs[i][1]);
                }
                for(i=0;i<vs.length;i++){
                    getcount[i] = 0;
                }
                for(i=0;i<vs.length;i++){
                    for(h=0;h<fs.length;h++){
                        if(vs[i][0]<=fs[h]&&vs[i][1]>fs[h]){
                            getcount[i] = getcount[i] + 1;
                        }
                    }
                }
                for(i=0;i<vs.length;i++){
                    hms.innerHTML = hms.innerHTML+"<tr><td>"+vs[i][0]+" - "+vs[i][1]+"</td><td>"+getcount[i]+"</td></tr>";
                }
            }
            function sorts(){
                hms = document.getElementById("hmms");
                hms.innerHTML = "";
                getcount = [];
                fs = document.getElementById("jl").value;
                fs = fs.toString().replace(" ","").split(",");
                for(i=0;i<fs.length;i++){
                    fs[i]=Number(fs[i]);
                }
                vs = document.getElementById("we").value;
                vs = vs.toString().replace(" ","").split(",");
                for(i=0;i<vs.length;i++){
                    vs[i] = vs[i].toString().split("-");
                    //console.log(vs[i])
                    for (j=0; j < vs[i].length;j++){ // Checkinf for negative int
                        if (vs[i][j] == "" || vs[i][j] == " "){
                            vs[i][j+1] = "-"+vs[i][j+1]
                        }
                    }
                    vs[i] = vs[i].filter(e => e)
                    vs[i] = vs[i].filter(function(str) {
                        return /\S/.test(str);
                    });          
                    //console.log(vs[i])
                    vs[i][0] = Number(vs[i][0]);
                    vs[i][1] = Number(vs[i][1]);
                }
                for(i=0;i<vs.length;i++){
                    getcount[i] = 0;
                }
                for(i=0;i<vs.length;i++){
                    for(h=0;h<fs.length;h++){
                        if(vs[i][0]<=fs[h]&&vs[i][1]>=fs[h]){
                            getcount[i] = getcount[i] + 1;
                        }
                    }
                }
                for(i=0;i<vs.length;i++){
                    hms.innerHTML = hms.innerHTML+"<tr><td>"+vs[i][0]+" - "+vs[i][1]+"</td><td>"+getcount[i]+"</td></tr>";
                }
            }
            function get(){
                fs = document.getElementById("fre").value;
                fs = fs.toString().replace(" ","").split(",");
                for(i=0;i<fs.length;i++){
                    fs[i]=Number(fs[i]);
                }
                vs = document.getElementById("cl").value;
                vs = vs.toString().replace(" ","").split(",");
                for(i=0;i<vs.length;i++){
                    vs[i] = vs[i].toString().split("-");
                    //console.log(vs[i])
                    for (j=0; j < vs[i].length;j++){ // Checkinf for negative int
                        if (vs[i][j] == "" || vs[i][j] == " "){
                            vs[i][j+1] = "-"+vs[i][j+1]
                        }
                    }
                    vs[i] = vs[i].filter(e => e)
                    vs[i] = vs[i].filter(function(str) {
                        return /\S/.test(str);
                    });          
                    //console.log(vs[i])
                    vs[i][0] = Number(vs[i][0]);
                    vs[i][1] = Number(vs[i][1]);
                }
                if(fs.length!=vs.length){
                    alert("Beta Error Hai");
                }else{
                document.getElementById("hmm").innerHTML = "Mean = "+mean(vs,fs)+"<br>Mediun = "+mediun(vs,fs)+
                "<br>Mode = "+mode(vs,fs);
            }
            }
            function mean(array,freq){
                arr = [];
                mea = 0;
                f = 0;
                for(i=0;i<array.length;i++){
                    ans = (array[i][0]+array[i][1])/2
                    arr.push(ans);
                }
                for(i=0;i<arr.length;i++){
                    mea += arr[i]*freq[i];
                }
                for(i=0;i<arr.length;i++){
                    f+=freq[i];
                }
                return(mea/f);
            }
            function mediun(array,freq){
                final = 0;
                cf = 0;
                text = 0;
                f = 0;
                medindex = 0;
                addd2 = 0;
                for(i=0;i<freq.length;i++){
                    f+=freq[i];
                }
                addd2 = f/2;
                for(i=0;i<freq.length;i++){
                    text+=freq[i];
                    if(addd2<=text){
                        medindex = i;
                        break;
                    }
                }
                for(i=0;i<medindex;i++){
                    cf+=freq[i];
                }
                final = (addd2-cf)/freq[medindex];
                final = final*(array[medindex][1]-array[medindex][0]);
                final = final + array[medindex][0];
                return(final);
            }
            function mode(array,freq){
                final = 0;
                largest = 0;
                com = 0;
                for(i=0;i<freq.length;i++){
                    if(freq[com]<freq[i]){
                        com=i;
                    }
                }
                for(i=0;i<freq.length;i++){
                    if(freq[com]==freq[i]&&com!=i){
                        com = "No Biggest Value";
                    }
                }
                if(com == "No Biggest Value"){
                    return(NaN);
                }else{
                q0 = com-1;
                q1 = freq[com];
                q2 = com+1;
                if(q0==-1){q0 = 0;}else{q0=freq[com-1]}
                if(q2==freq.length){q2 = 0;}else{q2=freq[com+1]}
                final = (q1-q0)/((2*q1)-q0-q2);
                final = final*(array[com][1]-array[com][0]);
                final = final + array[com][0];
                return(final);
            }
            }
        </script>
    </body>
</html>